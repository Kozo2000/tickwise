# 外部連携・データ活用ガイド

Tickwiseは、算出されたテクニカルデータや収集したニュース、生成されたプロンプトを外部アプリや解析ツールから再利用するための複数のインターフェイスを提供しています。

本ガイドでは、主要なフラグを組み合わせた具体的な「連携パターン」を紹介します。

---

## 🚀 主要な連携パターン（実行例）と活用シーン

### 1. 「自分だけの投資データベース」の構築（CSV）
定期的な実行により、特定の銘柄の時系列データを蓄積し、深く分析するパターンです。

- **活用シーン**:
  - **週末のExcel戦略会議**: 毎日収集したログをExcelで開き、独自の関数やグラフで複数銘柄の相関を分析。「自分だけの勝てる相場環境」をデータから見つけ出します。
  - **Pythonによる高度な統計解析**: Pandasで読み込み、移動平均のクロスオーバーやボリンジャーバンドの収束など、特定のパターンの出現頻度を統計的に検証します。
- **実行例**:
  - **初回実行（ヘッダー作成）**: `tickwise --silent --show-log-header > analysis_log.csv`
  - **2回目以降（データ追記）**: `tickwise -t 7203.T --silent --save-technical-log --data-append --log-format csv`

### 2. 「リアルタイム・株式モニター」の実現（JSON）
システム連携により、Tickwiseを「高精度な分析エンジン」としてWebアプリや自動監視システムに組み込むパターンです。

- **活用シーン**:
  - **次世代グラフアプリとの同期**: JSON出力を自作のダッシュボード（Grafanaや独自Webアプリ）に流し込み、Tickwiseが弾き出した「テクニカルスコア」の推移をリアルタイムで波形化。直感的なビジュアルで相場の節目を捉えます。
  - **売買シグナルの自動通知**: PythonやNode.jsスクリプトでTickwiseを定期実行し、JSON内のスコアが一定値を超えた瞬間にSlackやDiscordへ通知を送る「自動銘柄スカウター」を構築します。
- **実行例**:
  - **標準出力へJSONを流す**: `tickwise -t AAPL --silent --stdout-log --log-format json`

### 3. 「トップクラスの知能」との壁打ち（debug-prompt）
API経由ではなく、使い慣れたWeb UIのAIにTickwiseの高度なコンテキストを渡すパターンです。

- **活用シーン**:
  - **最強の投資家モデルとの対話**: `debug_prompt.txt` に書き出された「Rust製の計算結果（事実）」を、ChatGPT(o1/Pro)やClaude 3.5 Sonnetにペースト。「このテクニカルデータとニュースの乖離、あなたならどう見る？」と、最新最強の知能と深いディスカッションを行い、判断の精度を究極まで高めます。
  - **独自スタイルのプロンプト加工**: ツール任せにせず、書き出されたプロンプトをベースに「中長期投資家の視点で」などの指示を自分で付け加え、納得のいくまで分析レポートを練り上げます。
- **実行例**:
  - **プロンプトのみを生成する**: `tickwise -t 7203.T --debug-prompt`

### 4. CLIパイプライン・フィルタリング処理
Unix哲学的なコマンド連携により、特定の数値だけをリアルタイムに監視・抽出するパターンです。

- **スコアのみを抽出して監視**:
  ```bash
  tickwise -t TSLA --silent --stdout-log | grep "final_score"
  ```
- **動作**: 画面への表示をすべて抑制し、最終的なスコアデータのみを抽出して次のプロセスに渡します。

---

## 🛠 連携用フラグのリファレンス

| フラグ | 効果 | 連携時の役割 |
| :--- | :--- | :--- |
| `--silent` | 画面出力を抑制 | **必須級。** ログや進捗表示が、リダイレクト先のデータに混ざるのを防ぐ。 |
| `--stdout-log`| 標準出力にデータを出す | ファイルを介さず直接他のプログラムへデータを渡す場合に。 |
| `--show-log-header`| CSVヘッダーを出力 | ログファイルの初期化やデータ列の定義確認に。 |
| `--log-format` | `csv` または `json` | 連携先の受け入れ形式に合わせて選択。 |
| `--save-technical-log` | ファイル保存を有効化 | `log/` ディレクトリ等に解析結果を永続化する。 |
| `--data-append` | 既存ファイルに追記 | 時系列バックテスト用データの蓄積に。 |
| `--debug-prompt` | プロンプトをファイル出力 | 他のLLMへの入力やデバッグ用途。 |

---

## ⚠️ 免責事項
外部アプリとの連携結果や、抽出されたデータの利用により生じたいかなる損害についても、作者は責任を負いません。分析結果の解釈と投資判断は自己責任で行ってください。
