# Tickwise  
**投資家向け・Rust 製 CLI テクニカル / ニュース分析ツール**

Tickwise は、株式の終値データとニュースを組み合わせて  
**「いま、この銘柄を買う／買わない」を 1 本の CLI で素早く判断するためのツール** です。

- Rust 製（高速・安全・型で守る）
- unwrap 禁止ポリシーで実装（雑なクラッシュを避ける）
- API キーは `tickwise.env` で完全分離（ソースに埋め込まない）
- テクニカル指標＆ニュース評価を組み合わせた総合スコア表示
- コマンドラインオプションは 50+ 種類、**組み合わせは事実上無限**

---

## 1. これは誰のためのツールか

### 🎯 投資家向け
- RSI / MACD / ボリンジャーバンド / 一目均衡表 / VWAP など  
  **複数指標をまとめてスコア化**  
- Brave News + OpenAI によるニュース要約（材料性の強弱をコメント）
- 「買う / 買わない」を 0〜100% のバーで表示

### 👨‍💻 開発者向け
- Rust（stable）で実装
- unwrap / expect を使わないエラーハンドリング
- 設定はすべて `Config` 経由（SoT 一元化）
- API キーや環境依存値は `tickwise.env` に集約

### 📚 言語学習・プロンプト設計の教材として
- テクニカルの説明文やニュース要約はすべて **日本語テキスト** で出力
- LLM に食わせるプロンプト素材としてそのまま利用可能

---

## 2. 数百万通りの組み合わせで“自分の戦略”を作れる

Tickwise のコアは 56 種類のオプションと重み付け（Weight）による“戦略レシピの自由度” にあります。

トレンドフォロー（順張り）

ボラティリティブレイクアウト

逆張りの強弱調整

サポレジ・フィボ回帰重視

EMA/SMA の長短調整

ニュース要因を加味したセンチメント補正

各指標の Weight による強弱カスタム

など、実際には数百万単位で構成が作れる総合分析ツールです。

ここでは、その 「組み合わせの1例としての逆張り構成」 を紹介しています。
> チャートが 1 ヵ月以上落ち続けている銘柄を、  
> 「そろそろ反発しそう」と感じて買いに行きたくなるとき、  
> Tickwise は **逆張り前提の指標設定** でそのタイミングを定量化します。

- MACD がマイナス圏でも、シグナルを上抜けしたら「買いを許容」  
- RSI が 20 以下になった「投げ売りゾーン」を逆張りシグナルとして使う  
- ボリンジャーバンドで「どのあたりまで振れそうか」を見る  

こうした逆張りロジックを、**毎回手計算せずに 1 コマンドで揃える**のが Tickwise です。

---

## 3. 使用例：逆張り強めの実行例（ソフトバンク G）

以下は **ソフトバンクグループ（9984.T）を逆張り設定で分析した例** です。

### 📝 市場・銘柄の状況メモ（2025/12/30 時点）

- 日付：**2025/12/30（大納会直前）**
- 市場：日経平均は高値圏からやや調整入り
- 銘柄：ソフトバンクグループ（9984.T）
  - おおよそ **1 ヵ月程度、下落トレンドが継続**
  - 投資家の間では「AI 関連」「孫さん銘柄」として常に話題
  - RSI / MACD は下げ止まり〜反発の兆しが出始めている局面

### 📰 直近材料の例（概要）

- AI インフラ強化を狙った **米 DigitalBridge 買収**
- 2026 年元旦の **1→4 株式分割** 予定
- 「AI オールイン戦略」関連のニュースが連日出ている時期

> つまり  
> **「材料は強いが、株価は叩かれている銘柄を、どこで逆張りするか？」**  
> というサンプルとして、ソフトバンク G を採用しています。

---
以下は、ソフトバンクグループ（9984.T）を逆張り設定で分析した際の実行コマンドです。

./tickwise -t 9984.T \
    --macd-minus-ok \
    --buy-rsi 20 \
    --macd-diff-low 1 \
    --bollinger \
    --bb-bandwidth-squeeze-pct 10 \
    --stance buyer \
    --show-news

    各オプションの意味は以下の通りです。

--macd-minus-ok
→ MACD がマイナス圏でも、シグナル上抜けなら「買いを許容」

--buy-rsi 20
→ RSI が 20 以下で「強い売られすぎ」として買いシグナル寄りに調整

--macd-diff-low 1
→ MACD–Signal の乖離が 1 未満なら中立補正して暴走を避ける

--bollinger
→ ボリンジャーバンドを併用

--bb-bandwidth-squeeze-pct 10
→ 帯の収縮を 10% 以下で判定

--stance buyer
→ 解析ロジックを「買い手（逆張り）視点」に切り替え

--show-news
→ ニュースの取得と要約を同時に行う

👉 フル出力はこちら（samples フォルダ）
samples/softbank-reversal-20251230.md

「逆張り設定とは？」

Tickwise には逆張りの底打ちを検出しやすい
3 つのキーオプションがあります。

■ 1. --macd-minus-ok

MACD が マイナス圏でもシグナルを上回れば買いを許容。
→ プログラム的に “落ちるナイフの底打ち” を拾える。

■ 2. --buy-rsi <閾値>

売られすぎの判断基準を指定できます。
例：--buy-rsi 20

RSI <= 20 → 強い逆張り買いシグナル

■ 3. --macd-diff-low <値>

MACD とシグナルの差がこの値未満なら「判定中立」。
→ 反転直前の“行き過ぎ”を取り込む安全弁。

インストール
git clone https://github.com/xxxx/tickwise.git
cd tickwise
cargo build --release

tickwise.env の例
OPENAI_API_KEY=sk-xxxx
BRAVE_API_KEY=brv-xxxx
NEWS_FILTER=true
NEWS_COUNT=20

主なコマンドラインオプション一覧

👉 詳細は別ページ
docs/command-reference.md

レシピ（投資戦略別プリセット）

👉 docs/recipes/README.md

逆張りスイング

順張りトレンドフォロー

ニュース主導型

決算前後チェック

ボラティリティ・ブレイクアウト

セキュリティと非機能要件

API キーは tickwise.env に隔離

unwrap 不使用

SBOM（CycloneDX）出力を想定

VirusTotal で誤検知チェック

CSV / JSON でログ保存

再現性重視の deterministic 設計

Git 運用メモ

main / feature ブランチ制

リリース zip は Binary/ に格納

VT 誤検知時の申請手順は docs/vt-guide.md

Mac / Windows 両対応（MSVC）

ライセンス

MIT License

お問い合わせ

Pull Request / Issue 歓迎